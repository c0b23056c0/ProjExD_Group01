# 広告ゲーム（ピン抜き）

## 実行環境の必要条件
* python >= 3.10
* pygame >= 2.1

## ゲームの概要
主人公に向けて宝物のみが落ちてくるようにピンを正しく抜いてクリアするゲーム

## ゲームの操作
### こうかとん
* クリックすると宝に向かって進む
* マグマにぶつかるとゲームオーバーになる
### 水
* 水色の円形
* マグマとぶつかると黒曜石になる
### マグマ
* 赤色の円形
* 水とぶつかると黒曜石になる
* 宝とぶつかるとゲームオーバー
### 宝
* 黄色の円形
* これを取るとクリア
* マグマとぶつかるとゲームオーバー
### ピン
* 山吹色の長方形
* ピンの半分より画面端側をクリックすると抜かれる
### 黒曜石
* マグマと水がぶつかると生成される
* 基本的に環境の影響を受けない
### 竹
* 黄緑色の長方形
* マグマか黒曜石にぶつかると壊れる
### ブラックホール
* 水，マグマ．宝を吸い込む
* こうかとんがぶつかるとゲームオーバーになる
### 扇風機
* 白い扇風機は動かせる
* 左クリックすると風の強さを変えられる
* 青い扇風機は動かせない
* 左クリックしても特に変わらない

## ゲームの実装
### 共通基本機能
* 背景画像と主人公キャラクター、ステージとなる場所の描画 (担当：熊倉)
* マグマや水などの基本的障害物の描写 (担当：熊倉)

### 担当追加機能
* スタート画面　（担当：小室）
* ピンとステージの当たり判定（抜く行為） （担当：熊倉）
* 物体の落下　（担当：小林）
* ゲームオーバー画面　（担当：齋藤）
* クリア画面　（担当：大竹）

### ToDo
- [ ] こうかとん（主人公）の描写と移動に関するクラスの実装 〇
- [ ] ステージクラスの実装 〇
- [ ] ピンクラスの実装 〇
- [ ] ピンを抜く行為の実装 〇
- [ ] ピンの位置(center)が真ん中より右(左)だったら右(左)に抜く 〇
- [ ] ピンの位置(center)が真ん中より上(下)だったら上(下)に抜く 〇
- [ ] enterを押したらこうかとんを動かす 〇
- [ ] マグマとこうかとんの衝突判定 -> リセット機能
- [ ] 宝とこうかとんの衝突判定 -> クリア画面
- [ ] マグマと水の衝突判定それに伴った二つのクラスの作成
- [ ] 顔クラスの追加(遊び) 〇
- [ ] 竹クラスの追加


### メモ
* プログラミング中に気付いたことや，説明が長くなってコメントだけだと詳しく書けないものをこのメモに書くようにしてある
* すべてのクラスに関係する関数は，クラスの外で定義してある
* blitするときに画面内に表示されるimageの場所が決まる
* screen.blit(pg.Surface, [ここの座標])で決まる
* self.rect.topやbottom，centerなどはすべてdrawなどで書いたrectの座標ではなく，設定したSurfaceの位置座標で決まる
* ピンが重なり合ってるところをクリックしたときに重なっているピンが全部動いてしまうのを防ぐためにピンの真ん中より画面端側をクリックしないとピンを動かせないようにする
* pg.sprite.Spriteは衝突させることのないクラスにはつけなくていい
* ステージの描写において理想のステージを描写するためにfor文を使うと40回ほど繰り返さなければならなくなるためscreen.blitを自力で書くようにしてある
* ゲームオーバー画面やクリア画面の描写はなにかとこうかとんがぶつかってwhile文からbreakされてその下にgameover.updateみたいなやつを付ければいい(musou_kokaton.pyに手本としてResultクラスを作ってみたからそれを見るとわかりやすい)
* スタート画面はwhile文の前にwhile文を作ることで簡単にできる(musou_kokaton.pyに手本を作っておいた)
* 黒曜石はSurface.Groupにする
* ステージはTate_StageとYoko_stageにわける
* .addするときにfor文を使う -> ほかの方法では使えなかったstageとの衝突判定が行える
* Objのupdateに衝突判定を入れてあげて，while文の最後の奴にはYoko_stageを入れて，宝が黒曜石とぶつかったときはstoneを入れてあげればいい
* スペースを押したらこうかとんが宝に近づく
* こうかとんもGroupとかにするかも
* def startみたいなかんじでスタートやゲームオーバーの画面を表示できるようにする
* 一番下のmain()の前や後に入れる
* クリア時間によってスコアを変える
* 竹クラスをつくる -> ピンとの当たり判定がなくなったら壊れる(kill)される
* 当たり判定をやるときは大体5ピクセル分沈む
* 扇風機とその風を実装する
* 風rectは扇風機rectと同じ位置
* 風rectとぶつかってる間はその方向にずっと移動する
* 扇風機は移動できる